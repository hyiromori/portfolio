# S3 互換の Wasabi を使う

## はじめに

[Wasabi – Cloud-based object storage service](https://wasabi.com/) という AWS S3 互換のオブジェクトストレージを使い始めて３ヶ月以上が経ったので、使ってみた感想とかをまとめます。



## 個人で AWS　S3 を使った時の課題

Wasabi を使う以前は、AWS S3 を使っていろいろなデータを管理していました。
バックアップや大容量データなどもあり、当時800GBぐらいデータがありました。
使っていくうちに、データ転送料と保管料金の課題がでてきて、それを解消したいと思っていました。

### インターネット転送料金

これは S3 に限らず AWS 全般に言えることですが、インターネットへの転送（AWS→インターネット）にかかる料金は高めに設定されています。
1GBあたり、バージニア北部（us-east-1）なら$0.09、東京（ap-northeast-1）なら$0.114かかります。
$1=115円の前提で、10GB転送したとすると `0.114 * 115 * 10 = 131.1` で、だいたい131円ぐらいになります。

バックアップや大容量のデータを置いているので、ちょっとこのファイル取り出したいな、と思っても気軽にポンポン出していくとそれなりの金額を請求されてしまいます。
自分のデータなのに、気軽に使えないというのはちょっと不便だな〜、と思っていたのでここをなんとかしたいと思っていました。

### 保管料金

S3は複数のストレージクラスがあり、それぞれに保管料金が決められています。
800GBぐらいのデータを保管すると、それぞれ以下のような料金がかかります。

| ストレージクラス          | 800GBを１ヶ月分保管した場合の料金($1=115円) | メモ                     |
|:---------------------|:--------------------------------------|:-----------------------|
| S3標準               | `0.025 * 115 * 800` = 2300円           | 高い                    |
| 低頻度アクセス          | `0.019 * 115 * 800` = 1748円          |　それでも高い               |
| Glacier Deep Archive | `0.002 * 115 * 800` = 184円           | 安いが、取り出しに時間がかかる |

[Glacier　Deep Archive](https://aws.amazon.com/jp/blogs/news/new-amazon-s3-storage-class-glacier-deep-archive/) は圧倒的に安いですが、取り出しに料金と時間がかかり、気軽には使いにくいです。
実際に　Glacier　Deep Archive を使っていたのですが、使いたい時にすぐ使えないのは私の用途的には不便でした。
そういうわけで、すぐ使えるが保管料金が安いサービスを探していました。

補足すると、Glacier　Deep Archive が悪いわけではなく、私の用途にはあっていなかったという話です。
法的に保管を義務付けられているなど、必ず長期間保管する必要があるが、ほとんど使わないようなデータには最適だと思います。


## Wasabi を知る





## 使ってみた感想

1TB 
